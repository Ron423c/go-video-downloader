// Code generated by transpiler. DO NOT EDIT.

/**
 * Go Video Downloader
 *
 *    Copyright 2019 Tenta, LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * For any questions, please contact developer@tenta.io
 *
 * rai/module.go: transpiled from https://github.com/ytdl-org/youtube-dl/blob/master/youtube_dl/extractor/rai.py
 */

package rai

import (
	Ωre "github.com/tenta-browser/go-video-downloader/gen/re"
	Ωparse "github.com/tenta-browser/go-video-downloader/gen/urllib/parse"
	Ωcompat "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/compat"
	Ωcommon "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/extractor/common"
	Ωutils "github.com/tenta-browser/go-video-downloader/gen/youtube_dl/utils"
	λ "github.com/tenta-browser/go-video-downloader/runtime"
)

var (
	ExtractorError      λ.Object
	GeoRestrictedError  λ.Object
	InfoExtractor       λ.Object
	RaiBaseIE           λ.Object
	RaiIE               λ.Object
	RaiPlayIE           λ.Object
	RaiPlayLiveIE       λ.Object
	RaiPlayPlaylistIE   λ.Object
	ϒcompat_str         λ.Object
	ϒdetermine_ext      λ.Object
	ϒfind_xpath_attr    λ.Object
	ϒfix_xml_ampersands λ.Object
	ϒint_or_none        λ.Object
	ϒparse_duration     λ.Object
	ϒstrip_or_none      λ.Object
	ϒtry_get            λ.Object
	ϒunescapeHTML       λ.Object
	ϒunified_strdate    λ.Object
	ϒunified_timestamp  λ.Object
	ϒupdate_url_query   λ.Object
	ϒurljoin            λ.Object
	ϒxpath_text         λ.Object
)

func init() {
	λ.InitModule(func() {
		InfoExtractor = Ωcommon.InfoExtractor
		ϒcompat_str = Ωcompat.ϒcompat_str
		ExtractorError = Ωutils.ExtractorError
		ϒdetermine_ext = Ωutils.ϒdetermine_ext
		ϒfind_xpath_attr = Ωutils.ϒfind_xpath_attr
		ϒfix_xml_ampersands = Ωutils.ϒfix_xml_ampersands
		GeoRestrictedError = Ωutils.GeoRestrictedError
		ϒint_or_none = Ωutils.ϒint_or_none
		ϒparse_duration = Ωutils.ϒparse_duration
		ϒstrip_or_none = Ωutils.ϒstrip_or_none
		ϒtry_get = Ωutils.ϒtry_get
		ϒunescapeHTML = Ωutils.ϒunescapeHTML
		ϒunified_strdate = Ωutils.ϒunified_strdate
		ϒunified_timestamp = Ωutils.ϒunified_timestamp
		ϒupdate_url_query = Ωutils.ϒupdate_url_query
		ϒurljoin = Ωutils.ϒurljoin
		ϒxpath_text = Ωutils.ϒxpath_text
		RaiBaseIE = λ.Cal(λ.TypeType, λ.NewStr("RaiBaseIE"), λ.NewTuple(InfoExtractor), func() λ.Dict {
			var (
				RaiBaseIE__GEO_BYPASS            λ.Object
				RaiBaseIE__GEO_COUNTRIES         λ.Object
				RaiBaseIE__UUID_RE               λ.Object
				RaiBaseIE__extract_relinker_info λ.Object
				RaiBaseIE__extract_subtitles     λ.Object
			)
			RaiBaseIE__UUID_RE = λ.NewStr("[\\da-f]{8}-[\\da-f]{4}-[\\da-f]{4}-[\\da-f]{4}-[\\da-f]{12}")
			RaiBaseIE__GEO_COUNTRIES = λ.NewList(λ.NewStr("IT"))
			RaiBaseIE__GEO_BYPASS = λ.False
			RaiBaseIE__extract_relinker_info = λ.NewFunction("_extract_relinker_info",
				[]λ.Param{
					{Name: "self"},
					{Name: "relinker_url"},
					{Name: "video_id"},
				},
				0, false, false,
				func(λargs []λ.Object) λ.Object {
					var (
						ϒbitrate       λ.Object
						ϒduration      λ.Object
						ϒext           λ.Object
						ϒformats       λ.Object
						ϒgeoprotection λ.Object
						ϒis_live       λ.Object
						ϒmanifest_url  λ.Object
						ϒmedia_url     λ.Object
						ϒplatform      λ.Object
						ϒrelinker      λ.Object
						ϒrelinker_url  = λargs[1]
						ϒself          = λargs[0]
						ϒurl_elem      λ.Object
						ϒvideo_id      = λargs[2]
						τmp0           λ.Object
						τmp1           λ.Object
					)
					if λ.IsTrue(λ.NewBool(!λ.IsTrue(λ.Cal(Ωre.ϒmatch, λ.NewStr("https?://"), ϒrelinker_url)))) {
						return λ.NewDictWithTable(map[λ.Object]λ.Object{
							λ.NewStr("formats"): λ.NewList(λ.NewDictWithTable(map[λ.Object]λ.Object{
								λ.NewStr("url"): ϒrelinker_url,
							})),
						})
					}
					ϒformats = λ.NewList()
					ϒgeoprotection = λ.None
					ϒis_live = λ.None
					ϒduration = λ.None
					τmp0 = λ.Cal(λ.BuiltinIter, λ.NewTuple(
						λ.NewStr("mon"),
						λ.NewStr("flash"),
						λ.NewStr("native"),
					))
					for {
						if τmp1 = λ.NextDefault(τmp0, λ.AfterLast); τmp1 == λ.AfterLast {
							break
						}
						ϒplatform = τmp1
						ϒrelinker = λ.Call(λ.GetAttr(ϒself, "_download_xml", nil), λ.NewArgs(
							ϒrelinker_url,
							ϒvideo_id,
						), λ.KWArgs{
							{Name: "note", Value: λ.Mod(λ.NewStr("Downloading XML metadata for platform %s"), ϒplatform)},
							{Name: "transform_source", Value: ϒfix_xml_ampersands},
							{Name: "query", Value: λ.NewDictWithTable(map[λ.Object]λ.Object{
								λ.NewStr("output"): λ.NewInt(45),
								λ.NewStr("pl"):     ϒplatform,
							})},
							{Name: "headers", Value: λ.Cal(λ.GetAttr(ϒself, "geo_verification_headers", nil))},
						})
						if λ.IsTrue(λ.NewBool(!λ.IsTrue(ϒgeoprotection))) {
							ϒgeoprotection = λ.Eq(λ.Call(ϒxpath_text, λ.NewArgs(
								ϒrelinker,
								λ.NewStr("./geoprotection"),
							), λ.KWArgs{
								{Name: "default", Value: λ.None},
							}), λ.NewStr("Y"))
						}
						if λ.IsTrue(λ.NewBool(!λ.IsTrue(ϒis_live))) {
							ϒis_live = λ.Eq(λ.Call(ϒxpath_text, λ.NewArgs(
								ϒrelinker,
								λ.NewStr("./is_live"),
							), λ.KWArgs{
								{Name: "default", Value: λ.None},
							}), λ.NewStr("Y"))
						}
						if λ.IsTrue(λ.NewBool(!λ.IsTrue(ϒduration))) {
							ϒduration = λ.Cal(ϒparse_duration, λ.Call(ϒxpath_text, λ.NewArgs(
								ϒrelinker,
								λ.NewStr("./duration"),
							), λ.KWArgs{
								{Name: "default", Value: λ.None},
							}))
						}
						ϒurl_elem = λ.Cal(ϒfind_xpath_attr, ϒrelinker, λ.NewStr("./url"), λ.NewStr("type"), λ.NewStr("content"))
						if λ.IsTrue(λ.NewBool(ϒurl_elem == λ.None)) {
							continue
						}
						ϒmedia_url = λ.GetAttr(ϒurl_elem, "text", nil)
						if λ.IsTrue(λ.Eq(ϒmedia_url, λ.NewStr("http://download.rai.it/video_no_available.mp4"))) {
							continue
						}
						ϒext = λ.Cal(ϒdetermine_ext, ϒmedia_url)
						if λ.IsTrue(func() λ.Object {
							if λv := func() λ.Object {
								if λv := λ.Eq(ϒext, λ.NewStr("m3u8")); !λ.IsTrue(λv) {
									return λv
								} else {
									return λ.Ne(ϒplatform, λ.NewStr("mon"))
								}
							}(); λ.IsTrue(λv) {
								return λv
							} else {
								return func() λ.Object {
									if λv := λ.Eq(ϒext, λ.NewStr("f4m")); !λ.IsTrue(λv) {
										return λv
									} else {
										return λ.Ne(ϒplatform, λ.NewStr("flash"))
									}
								}()
							}
						}()) {
							continue
						}
						if λ.IsTrue(func() λ.Object {
							if λv := λ.Eq(ϒext, λ.NewStr("m3u8")); λ.IsTrue(λv) {
								return λv
							} else if λv := λ.NewBool(λ.Contains(ϒmedia_url, λ.NewStr("format=m3u8"))); λ.IsTrue(λv) {
								return λv
							} else {
								return λ.Eq(ϒplatform, λ.NewStr("mon"))
							}
						}()) {
							λ.Cal(λ.GetAttr(ϒformats, "extend", nil), λ.Call(λ.GetAttr(ϒself, "_extract_m3u8_formats", nil), λ.NewArgs(
								ϒmedia_url,
								ϒvideo_id,
								λ.NewStr("mp4"),
								λ.NewStr("m3u8_native"),
							), λ.KWArgs{
								{Name: "m3u8_id", Value: λ.NewStr("hls")},
								{Name: "fatal", Value: λ.False},
							}))
						} else {
							if λ.IsTrue(func() λ.Object {
								if λv := λ.Eq(ϒext, λ.NewStr("f4m")); λ.IsTrue(λv) {
									return λv
								} else {
									return λ.Eq(ϒplatform, λ.NewStr("flash"))
								}
							}()) {
								ϒmanifest_url = λ.Cal(ϒupdate_url_query, λ.Cal(λ.GetAttr(ϒmedia_url, "replace", nil), λ.NewStr("manifest#live_hds.f4m"), λ.NewStr("manifest.f4m")), λ.NewDictWithTable(map[λ.Object]λ.Object{
									λ.NewStr("hdcore"): λ.NewStr("3.7.0"),
									λ.NewStr("plugin"): λ.NewStr("aasp-3.7.0.39.44"),
								}))
								λ.Cal(λ.GetAttr(ϒformats, "extend", nil), λ.Call(λ.GetAttr(ϒself, "_extract_f4m_formats", nil), λ.NewArgs(
									ϒmanifest_url,
									ϒvideo_id,
								), λ.KWArgs{
									{Name: "f4m_id", Value: λ.NewStr("hds")},
									{Name: "fatal", Value: λ.False},
								}))
							} else {
								ϒbitrate = λ.Cal(ϒint_or_none, λ.Cal(ϒxpath_text, ϒrelinker, λ.NewStr("bitrate")))
								λ.Cal(λ.GetAttr(ϒformats, "append", nil), λ.NewDictWithTable(map[λ.Object]λ.Object{
									λ.NewStr("url"): ϒmedia_url,
									λ.NewStr("tbr"): func() λ.Object {
										if λ.IsTrue(λ.Gt(ϒbitrate, λ.NewInt(0))) {
											return ϒbitrate
										} else {
											return λ.None
										}
									}(),
									λ.NewStr("format_id"): func() λ.Object {
										if λ.IsTrue(λ.Gt(ϒbitrate, λ.NewInt(0))) {
											return λ.Mod(λ.NewStr("http-%d"), ϒbitrate)
										} else {
											return λ.NewStr("http")
										}
									}(),
								}))
							}
						}
					}
					if λ.IsTrue(func() λ.Object {
						if λv := λ.NewBool(!λ.IsTrue(ϒformats)); !λ.IsTrue(λv) {
							return λv
						} else {
							return λ.NewBool(ϒgeoprotection == λ.True)
						}
					}()) {
						λ.Call(λ.GetAttr(ϒself, "raise_geo_restricted", nil), nil, λ.KWArgs{
							{Name: "countries", Value: λ.GetAttr(ϒself, "_GEO_COUNTRIES", nil)},
						})
					}
					return λ.Cal(λ.DictType, λ.Cal(λ.NewFunction("<generator>",
						nil,
						0, false, false,
						func(λargs []λ.Object) λ.Object {
							return λ.NewGenerator(func(λgen λ.Generator) λ.Object {
								var (
									ϒk   λ.Object
									ϒv   λ.Object
									τmp0 λ.Object
									τmp1 λ.Object
									τmp2 λ.Object
								)
								τmp0 = λ.Cal(λ.BuiltinIter, λ.Cal(λ.GetAttr(λ.NewDictWithTable(map[λ.Object]λ.Object{
									λ.NewStr("is_live"):  ϒis_live,
									λ.NewStr("duration"): ϒduration,
									λ.NewStr("formats"):  ϒformats,
								}), "items", nil)))
								for {
									if τmp1 = λ.NextDefault(τmp0, λ.AfterLast); τmp1 == λ.AfterLast {
										break
									}
									τmp2 = τmp1
									ϒk = λ.GetItem(τmp2, λ.NewInt(0))
									ϒv = λ.GetItem(τmp2, λ.NewInt(1))
									if λ.IsTrue(λ.NewBool(ϒv != λ.None)) {
										λgen.Yield(λ.NewTuple(
											ϒk,
											ϒv,
										))
									}
								}
								return λ.None
							})
						})))
				})
			RaiBaseIE__extract_subtitles = λ.NewFunction("_extract_subtitles",
				[]λ.Param{
					{Name: "url"},
					{Name: "subtitle_url"},
				},
				0, false, false,
				func(λargs []λ.Object) λ.Object {
					var (
						SRT_EXT       λ.Object
						STL_EXT       λ.Object
						ϒsrt_url      λ.Object
						ϒsubtitle_url = λargs[1]
						ϒsubtitles    λ.Object
						ϒurl          = λargs[0]
					)
					ϒsubtitles = λ.NewDictWithTable(map[λ.Object]λ.Object{})
					if λ.IsTrue(func() λ.Object {
						if λv := ϒsubtitle_url; !λ.IsTrue(λv) {
							return λv
						} else {
							return λ.Cal(λ.BuiltinIsInstance, ϒsubtitle_url, ϒcompat_str)
						}
					}()) {
						ϒsubtitle_url = λ.Cal(ϒurljoin, ϒurl, ϒsubtitle_url)
						STL_EXT = λ.NewStr(".stl")
						SRT_EXT = λ.NewStr(".srt")
						λ.SetItem(ϒsubtitles, λ.NewStr("it"), λ.NewList(λ.NewDictWithTable(map[λ.Object]λ.Object{
							λ.NewStr("ext"): λ.NewStr("stl"),
							λ.NewStr("url"): ϒsubtitle_url,
						})))
						if λ.IsTrue(λ.Cal(λ.GetAttr(ϒsubtitle_url, "endswith", nil), STL_EXT)) {
							ϒsrt_url = λ.Add(λ.GetItem(ϒsubtitle_url, λ.NewSlice(λ.None, λ.Neg(λ.Cal(λ.BuiltinLen, STL_EXT)), λ.None)), SRT_EXT)
							λ.Cal(λ.GetAttr(λ.GetItem(ϒsubtitles, λ.NewStr("it")), "append", nil), λ.NewDictWithTable(map[λ.Object]λ.Object{
								λ.NewStr("ext"): λ.NewStr("srt"),
								λ.NewStr("url"): ϒsrt_url,
							}))
						}
					}
					return ϒsubtitles
				})
			RaiBaseIE__extract_subtitles = λ.Cal(λ.StaticMethodType, RaiBaseIE__extract_subtitles)
			return λ.NewDictWithTable(map[λ.Object]λ.Object{
				λ.NewStr("_GEO_BYPASS"):            RaiBaseIE__GEO_BYPASS,
				λ.NewStr("_GEO_COUNTRIES"):         RaiBaseIE__GEO_COUNTRIES,
				λ.NewStr("_UUID_RE"):               RaiBaseIE__UUID_RE,
				λ.NewStr("_extract_relinker_info"): RaiBaseIE__extract_relinker_info,
				λ.NewStr("_extract_subtitles"):     RaiBaseIE__extract_subtitles,
			})
		}())
		RaiPlayIE = λ.Cal(λ.TypeType, λ.NewStr("RaiPlayIE"), λ.NewTuple(RaiBaseIE), func() λ.Dict {
			var (
				RaiPlayIE__VALID_URL λ.Object
			)
			RaiPlayIE__VALID_URL = λ.Mod(λ.NewStr("(?P<url>https?://(?:www\\.)?raiplay\\.it/.+?-(?P<id>%s)\\.html)"), λ.GetAttr(RaiBaseIE, "_UUID_RE", nil))
			return λ.NewDictWithTable(map[λ.Object]λ.Object{
				λ.NewStr("_VALID_URL"): RaiPlayIE__VALID_URL,
			})
		}())
		RaiPlayLiveIE = λ.Cal(λ.TypeType, λ.NewStr("RaiPlayLiveIE"), λ.NewTuple(RaiBaseIE), func() λ.Dict {
			var (
				RaiPlayLiveIE__VALID_URL λ.Object
			)
			RaiPlayLiveIE__VALID_URL = λ.NewStr("https?://(?:www\\.)?raiplay\\.it/dirette/(?P<id>[^/?#&]+)")
			return λ.NewDictWithTable(map[λ.Object]λ.Object{
				λ.NewStr("_VALID_URL"): RaiPlayLiveIE__VALID_URL,
			})
		}())
		RaiPlayPlaylistIE = λ.Cal(λ.TypeType, λ.NewStr("RaiPlayPlaylistIE"), λ.NewTuple(InfoExtractor), func() λ.Dict {
			var (
				RaiPlayPlaylistIE__VALID_URL λ.Object
			)
			RaiPlayPlaylistIE__VALID_URL = λ.NewStr("https?://(?:www\\.)?raiplay\\.it/programmi/(?P<id>[^/?#&]+)")
			return λ.NewDictWithTable(map[λ.Object]λ.Object{
				λ.NewStr("_VALID_URL"): RaiPlayPlaylistIE__VALID_URL,
			})
		}())
		RaiIE = λ.Cal(λ.TypeType, λ.NewStr("RaiIE"), λ.NewTuple(RaiBaseIE), func() λ.Dict {
			var (
				RaiIE__TESTS                   λ.Object
				RaiIE__VALID_URL               λ.Object
				RaiIE__extract_from_content_id λ.Object
				RaiIE__real_extract            λ.Object
			)
			RaiIE__VALID_URL = λ.Mod(λ.NewStr("https?://[^/]+\\.(?:rai\\.(?:it|tv)|rainews\\.it)/.+?-(?P<id>%s)(?:-.+?)?\\.html"), λ.GetAttr(RaiBaseIE, "_UUID_RE", nil))
			RaiIE__TESTS = λ.NewList(
				λ.NewDictWithTable(map[λ.Object]λ.Object{
					λ.NewStr("url"): λ.NewStr("http://www.raisport.rai.it/dl/raiSport/media/rassegna-stampa-04a9f4bd-b563-40cf-82a6-aad3529cb4a9.html"),
					λ.NewStr("info_dict"): λ.NewDictWithTable(map[λ.Object]λ.Object{
						λ.NewStr("id"):          λ.NewStr("04a9f4bd-b563-40cf-82a6-aad3529cb4a9"),
						λ.NewStr("ext"):         λ.NewStr("mp4"),
						λ.NewStr("title"):       λ.NewStr("TG PRIMO TEMPO"),
						λ.NewStr("thumbnail"):   λ.NewStr("re:^https?://.*\\.jpg$"),
						λ.NewStr("duration"):    λ.NewInt(1758),
						λ.NewStr("upload_date"): λ.NewStr("20140612"),
					}),
				}),
				λ.NewDictWithTable(map[λ.Object]λ.Object{
					λ.NewStr("url"): λ.NewStr("http://www.rainews.it/dl/rainews/media/Weekend-al-cinema-da-Hollywood-arriva-il-thriller-di-Tate-Taylor-La-ragazza-del-treno-1632c009-c843-4836-bb65-80c33084a64b.html"),
					λ.NewStr("info_dict"): λ.NewDictWithTable(map[λ.Object]λ.Object{
						λ.NewStr("id"):          λ.NewStr("1632c009-c843-4836-bb65-80c33084a64b"),
						λ.NewStr("ext"):         λ.NewStr("mp4"),
						λ.NewStr("title"):       λ.NewStr("Weekend al cinema, da Hollywood arriva il thriller di Tate Taylor \"La ragazza del treno\""),
						λ.NewStr("description"): λ.NewStr("I film in uscita questa settimana."),
						λ.NewStr("thumbnail"):   λ.NewStr("re:^https?://.*\\.png$"),
						λ.NewStr("duration"):    λ.NewInt(833),
						λ.NewStr("upload_date"): λ.NewStr("20161103"),
					}),
				}),
				λ.NewDictWithTable(map[λ.Object]λ.Object{
					λ.NewStr("url"): λ.NewStr("http://www.rai.it/dl/RaiTV/programmi/media/ContentItem-efb17665-691c-45d5-a60c-5301333cbb0c.html"),
					λ.NewStr("md5"): λ.NewStr("11959b4e44fa74de47011b5799490adf"),
					λ.NewStr("info_dict"): λ.NewDictWithTable(map[λ.Object]λ.Object{
						λ.NewStr("id"):          λ.NewStr("efb17665-691c-45d5-a60c-5301333cbb0c"),
						λ.NewStr("ext"):         λ.NewStr("mp4"),
						λ.NewStr("title"):       λ.NewStr("TG1 ore 20:00 del 03/11/2016"),
						λ.NewStr("description"): λ.NewStr("TG1 edizione integrale ore 20:00 del giorno 03/11/2016"),
						λ.NewStr("thumbnail"):   λ.NewStr("re:^https?://.*\\.jpg$"),
						λ.NewStr("duration"):    λ.NewInt(2214),
						λ.NewStr("upload_date"): λ.NewStr("20161103"),
					}),
				}),
				λ.NewDictWithTable(map[λ.Object]λ.Object{
					λ.NewStr("url"): λ.NewStr("http://www.report.rai.it/dl/Report/puntata/ContentItem-0c7a664b-d0f4-4b2c-8835-3f82e46f433e.html"),
					λ.NewStr("md5"): λ.NewStr("2dd727e61114e1ee9c47f0da6914e178"),
					λ.NewStr("info_dict"): λ.NewDictWithTable(map[λ.Object]λ.Object{
						λ.NewStr("id"):          λ.NewStr("59d69d28-6bb6-409d-a4b5-ed44096560af"),
						λ.NewStr("ext"):         λ.NewStr("mp4"),
						λ.NewStr("title"):       λ.NewStr("Il pacco"),
						λ.NewStr("description"): λ.NewStr("md5:4b1afae1364115ce5d78ed83cd2e5b3a"),
						λ.NewStr("thumbnail"):   λ.NewStr("re:^https?://.*\\.jpg$"),
						λ.NewStr("upload_date"): λ.NewStr("20141221"),
					}),
				}),
				λ.NewDictWithTable(map[λ.Object]λ.Object{
					λ.NewStr("url"): λ.NewStr("http://www.tg1.rai.it/dl/tg1/2010/edizioni/ContentSet-9b6e0cba-4bef-4aef-8cf0-9f7f665b7dfb-tg1.html?item=undefined"),
					λ.NewStr("info_dict"): λ.NewDictWithTable(map[λ.Object]λ.Object{
						λ.NewStr("id"):          λ.NewStr("c2187016-8484-4e3a-8ac8-35e475b07303"),
						λ.NewStr("ext"):         λ.NewStr("mp4"),
						λ.NewStr("title"):       λ.NewStr("re:TG1 ore \\d{2}:\\d{2} del \\d{2}/\\d{2}/\\d{4}"),
						λ.NewStr("duration"):    λ.NewInt(2274),
						λ.NewStr("upload_date"): λ.NewStr("20170401"),
					}),
					λ.NewStr("skip"): λ.NewStr("Changes daily"),
				}),
				λ.NewDictWithTable(map[λ.Object]λ.Object{
					λ.NewStr("url"): λ.NewStr("http://www.rai.tv/dl/RaiTV/dirette/PublishingBlock-1912dbbf-3f96-44c3-b4cf-523681fbacbc.html?channel=EuroNews"),
					λ.NewStr("info_dict"): λ.NewDictWithTable(map[λ.Object]λ.Object{
						λ.NewStr("id"):    λ.NewStr("1912dbbf-3f96-44c3-b4cf-523681fbacbc"),
						λ.NewStr("ext"):   λ.NewStr("flv"),
						λ.NewStr("title"): λ.NewStr("EuroNews"),
					}),
					λ.NewStr("params"): λ.NewDictWithTable(map[λ.Object]λ.Object{
						λ.NewStr("skip_download"): λ.True,
					}),
				}),
				λ.NewDictWithTable(map[λ.Object]λ.Object{
					λ.NewStr("url"): λ.NewStr("http://www.rainews.it/dl/rainews/live/ContentItem-3156f2f2-dc70-4953-8e2f-70d7489d4ce9.html"),
					λ.NewStr("info_dict"): λ.NewDictWithTable(map[λ.Object]λ.Object{
						λ.NewStr("id"):    λ.NewStr("3156f2f2-dc70-4953-8e2f-70d7489d4ce9"),
						λ.NewStr("ext"):   λ.NewStr("mp4"),
						λ.NewStr("title"): λ.NewStr("La diretta di Rainews24"),
					}),
					λ.NewStr("params"): λ.NewDictWithTable(map[λ.Object]λ.Object{
						λ.NewStr("skip_download"): λ.True,
					}),
				}),
				λ.NewDictWithTable(map[λ.Object]λ.Object{
					λ.NewStr("url"):           λ.NewStr("http://www.rai.it/dl/RaiTV/programmi/media/ContentItem-b63a4089-ac28-48cf-bca5-9f5b5bc46df5.html"),
					λ.NewStr("only_matching"): λ.True,
				}),
				λ.NewDictWithTable(map[λ.Object]λ.Object{
					λ.NewStr("url"):           λ.NewStr("https://www.rainews.it/tgr/marche/notiziari/video/2019/02/ContentItem-6ba945a2-889c-4a80-bdeb-8489c70a8db9.html"),
					λ.NewStr("only_matching"): λ.True,
				}),
			)
			RaiIE__extract_from_content_id = λ.NewFunction("_extract_from_content_id",
				[]λ.Param{
					{Name: "self"},
					{Name: "content_id"},
					{Name: "url"},
				},
				0, false, false,
				func(λargs []λ.Object) λ.Object {
					var (
						ϒcontent_id    = λargs[1]
						ϒimage_type    λ.Object
						ϒinfo          λ.Object
						ϒmedia         λ.Object
						ϒmedia_type    λ.Object
						ϒrelinker_info λ.Object
						ϒself          = λargs[0]
						ϒsubtitles     λ.Object
						ϒthumbnail_url λ.Object
						ϒthumbnails    λ.Object
						ϒtitle         λ.Object
						ϒurl           = λargs[2]
						τmp0           λ.Object
						τmp1           λ.Object
					)
					ϒmedia = λ.Cal(λ.GetAttr(ϒself, "_download_json", nil), λ.Mod(λ.NewStr("http://www.rai.tv/dl/RaiTV/programmi/media/ContentItem-%s.html?json"), ϒcontent_id), ϒcontent_id, λ.NewStr("Downloading video JSON"))
					ϒtitle = λ.Cal(λ.GetAttr(λ.GetItem(ϒmedia, λ.NewStr("name")), "strip", nil))
					ϒmedia_type = λ.GetItem(ϒmedia, λ.NewStr("type"))
					if λ.IsTrue(λ.NewBool(λ.Contains(ϒmedia_type, λ.NewStr("Audio")))) {
						ϒrelinker_info = λ.NewDictWithTable(map[λ.Object]λ.Object{
							λ.NewStr("formats"): λ.NewList(λ.NewDictWithTable(map[λ.Object]λ.Object{
								λ.NewStr("format_id"): λ.Cal(λ.GetAttr(ϒmedia, "get", nil), λ.NewStr("formatoAudio")),
								λ.NewStr("url"):       λ.GetItem(ϒmedia, λ.NewStr("audioUrl")),
								λ.NewStr("ext"):       λ.Cal(λ.GetAttr(ϒmedia, "get", nil), λ.NewStr("formatoAudio")),
							})),
						})
					} else {
						if λ.IsTrue(λ.NewBool(λ.Contains(ϒmedia_type, λ.NewStr("Video")))) {
							ϒrelinker_info = λ.Cal(λ.GetAttr(ϒself, "_extract_relinker_info", nil), λ.GetItem(ϒmedia, λ.NewStr("mediaUri")), ϒcontent_id)
						} else {
							panic(λ.Raise(λ.Cal(ExtractorError, λ.NewStr("not a media file"))))
						}
					}
					λ.Cal(λ.GetAttr(ϒself, "_sort_formats", nil), λ.GetItem(ϒrelinker_info, λ.NewStr("formats")))
					ϒthumbnails = λ.NewList()
					τmp0 = λ.Cal(λ.BuiltinIter, λ.NewTuple(
						λ.NewStr("image"),
						λ.NewStr("image_medium"),
						λ.NewStr("image_300"),
					))
					for {
						if τmp1 = λ.NextDefault(τmp0, λ.AfterLast); τmp1 == λ.AfterLast {
							break
						}
						ϒimage_type = τmp1
						ϒthumbnail_url = λ.Cal(λ.GetAttr(ϒmedia, "get", nil), ϒimage_type)
						if λ.IsTrue(ϒthumbnail_url) {
							λ.Cal(λ.GetAttr(ϒthumbnails, "append", nil), λ.NewDictWithTable(map[λ.Object]λ.Object{
								λ.NewStr("url"): λ.Cal(Ωparse.ϒurljoin, ϒurl, ϒthumbnail_url),
							}))
						}
					}
					ϒsubtitles = λ.Cal(λ.GetAttr(ϒself, "_extract_subtitles", nil), ϒurl, λ.Cal(λ.GetAttr(ϒmedia, "get", nil), λ.NewStr("subtitlesUrl")))
					ϒinfo = λ.NewDictWithTable(map[λ.Object]λ.Object{
						λ.NewStr("id"):          ϒcontent_id,
						λ.NewStr("title"):       ϒtitle,
						λ.NewStr("description"): λ.Cal(ϒstrip_or_none, λ.Cal(λ.GetAttr(ϒmedia, "get", nil), λ.NewStr("desc"))),
						λ.NewStr("thumbnails"):  ϒthumbnails,
						λ.NewStr("uploader"):    λ.Cal(λ.GetAttr(ϒmedia, "get", nil), λ.NewStr("author")),
						λ.NewStr("upload_date"): λ.Cal(ϒunified_strdate, λ.Cal(λ.GetAttr(ϒmedia, "get", nil), λ.NewStr("date"))),
						λ.NewStr("duration"):    λ.Cal(ϒparse_duration, λ.Cal(λ.GetAttr(ϒmedia, "get", nil), λ.NewStr("length"))),
						λ.NewStr("subtitles"):   ϒsubtitles,
					})
					λ.Cal(λ.GetAttr(ϒinfo, "update", nil), ϒrelinker_info)
					return ϒinfo
				})
			RaiIE__real_extract = λ.NewFunction("_real_extract",
				[]λ.Param{
					{Name: "self"},
					{Name: "url"},
				},
				0, false, false,
				func(λargs []λ.Object) λ.Object {
					var (
						ϒcontent_item_id  λ.Object
						ϒcontent_item_ids λ.Object
						ϒcontent_item_url λ.Object
						ϒinfo             λ.Object
						ϒrelinker_info    λ.Object
						ϒrelinker_url     λ.Object
						ϒself             = λargs[0]
						ϒtitle            λ.Object
						ϒurl              = λargs[1]
						ϒvideo_id         λ.Object
						ϒwebpage          λ.Object
						τmp0              λ.Object
						τmp1              λ.Object
						τmp2              λ.Object
						τmp3              λ.Object
					)
					ϒvideo_id = λ.Cal(λ.GetAttr(ϒself, "_match_id", nil), ϒurl)
					ϒwebpage = λ.Cal(λ.GetAttr(ϒself, "_download_webpage", nil), ϒurl, ϒvideo_id)
					ϒcontent_item_id = λ.None
					ϒcontent_item_url = λ.Call(λ.GetAttr(ϒself, "_html_search_meta", nil), λ.NewArgs(
						λ.NewTuple(
							λ.NewStr("og:url"),
							λ.NewStr("og:video"),
							λ.NewStr("og:video:secure_url"),
							λ.NewStr("twitter:url"),
							λ.NewStr("twitter:player"),
							λ.NewStr("jsonlink"),
						),
						ϒwebpage,
					), λ.KWArgs{
						{Name: "default", Value: λ.None},
					})
					if λ.IsTrue(ϒcontent_item_url) {
						ϒcontent_item_id = λ.Call(λ.GetAttr(ϒself, "_search_regex", nil), λ.NewArgs(
							λ.Mod(λ.NewStr("ContentItem-(%s)"), λ.GetAttr(ϒself, "_UUID_RE", nil)),
							ϒcontent_item_url,
							λ.NewStr("content item id"),
						), λ.KWArgs{
							{Name: "default", Value: λ.None},
						})
					}
					if λ.IsTrue(λ.NewBool(!λ.IsTrue(ϒcontent_item_id))) {
						ϒcontent_item_id = λ.Call(λ.GetAttr(ϒself, "_search_regex", nil), λ.NewArgs(
							λ.Mod(λ.NewStr("(?x)\n                    (?:\n                        (?:initEdizione|drawMediaRaiTV)\\(|\n                        <(?:[^>]+\\bdata-id|var\\s+uniquename)=\n                    )\n                    ([\"\\'])\n                    (?:(?!\\1).)*\\bContentItem-(?P<id>%s)\n                "), λ.GetAttr(ϒself, "_UUID_RE", nil)),
							ϒwebpage,
							λ.NewStr("content item id"),
						), λ.KWArgs{
							{Name: "default", Value: λ.None},
							{Name: "group", Value: λ.NewStr("id")},
						})
					}
					ϒcontent_item_ids = λ.Cal(λ.SetType)
					if λ.IsTrue(ϒcontent_item_id) {
						λ.Cal(λ.GetAttr(ϒcontent_item_ids, "add", nil), ϒcontent_item_id)
					}
					if λ.IsTrue(λ.NewBool(!λ.Contains(ϒcontent_item_ids, ϒvideo_id))) {
						λ.Cal(λ.GetAttr(ϒcontent_item_ids, "add", nil), ϒvideo_id)
					}
					τmp0 = λ.Cal(λ.BuiltinIter, ϒcontent_item_ids)
					for {
						if τmp1 = λ.NextDefault(τmp0, λ.AfterLast); τmp1 == λ.AfterLast {
							break
						}
						ϒcontent_item_id = τmp1
						τmp2, τmp3 = func() (λexit λ.Object, λret λ.Object) {
							defer λ.CatchMulti(
								nil,
								&λ.Catcher{GeoRestrictedError, func(λex λ.BaseException) {
									panic(λ.Raise(λex))
								}},
								&λ.Catcher{ExtractorError, func(λex λ.BaseException) {
									// pass
								}},
							)
							λexit, λret = λ.BlockExitReturn, λ.Cal(λ.GetAttr(ϒself, "_extract_from_content_id", nil), ϒcontent_item_id, ϒurl)
							return
							return λ.BlockExitNormally, nil
						}()
						if τmp2 == λ.BlockExitReturn {
							return τmp3
						}
					}
					ϒrelinker_url = λ.Call(λ.GetAttr(ϒself, "_search_regex", nil), λ.NewArgs(
						λ.NewStr("(?x)\n                (?:\n                    var\\s+videoURL|\n                    mediaInfo\\.mediaUri\n                )\\s*=\\s*\n                ([\\'\"])\n                (?P<url>\n                    (?:https?:)?\n                    //mediapolis(?:vod)?\\.rai\\.it/relinker/relinkerServlet\\.htm\\?\n                    (?:(?!\\1).)*\\bcont=(?:(?!\\1).)+)\\1\n            "),
						ϒwebpage,
						λ.NewStr("relinker URL"),
					), λ.KWArgs{
						{Name: "group", Value: λ.NewStr("url")},
					})
					ϒrelinker_info = λ.Cal(λ.GetAttr(ϒself, "_extract_relinker_info", nil), λ.Cal(ϒurljoin, ϒurl, ϒrelinker_url), ϒvideo_id)
					λ.Cal(λ.GetAttr(ϒself, "_sort_formats", nil), λ.GetItem(ϒrelinker_info, λ.NewStr("formats")))
					ϒtitle = func() λ.Object {
						if λv := λ.Call(λ.GetAttr(ϒself, "_search_regex", nil), λ.NewArgs(
							λ.NewStr("var\\s+videoTitolo\\s*=\\s*([\\'\"])(?P<title>[^\\'\"]+)\\1"),
							ϒwebpage,
							λ.NewStr("title"),
						), λ.KWArgs{
							{Name: "group", Value: λ.NewStr("title")},
							{Name: "default", Value: λ.None},
						}); λ.IsTrue(λv) {
							return λv
						} else {
							return λ.Cal(λ.GetAttr(ϒself, "_og_search_title", nil), ϒwebpage)
						}
					}()
					ϒinfo = λ.NewDictWithTable(map[λ.Object]λ.Object{
						λ.NewStr("id"):    ϒvideo_id,
						λ.NewStr("title"): ϒtitle,
					})
					λ.Cal(λ.GetAttr(ϒinfo, "update", nil), ϒrelinker_info)
					return ϒinfo
				})
			return λ.NewDictWithTable(map[λ.Object]λ.Object{
				λ.NewStr("_TESTS"):                   RaiIE__TESTS,
				λ.NewStr("_VALID_URL"):               RaiIE__VALID_URL,
				λ.NewStr("_extract_from_content_id"): RaiIE__extract_from_content_id,
				λ.NewStr("_real_extract"):            RaiIE__real_extract,
			})
		}())
	})
}
